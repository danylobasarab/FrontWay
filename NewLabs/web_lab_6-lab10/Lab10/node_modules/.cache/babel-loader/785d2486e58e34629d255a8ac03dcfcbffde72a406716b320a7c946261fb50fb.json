{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lesyk\\\\OneDrive\\\\\\u0420\\u043E\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u0456\\u043B\\\\NewLabs\\\\web_lab_6-lab10\\\\Lab10\\\\src\\\\components\\\\catalog\\\\catalog.js\",\n  _s = $RefreshSig$();\nimport Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport OrderCard from \"../orders/order-card\";\nimport Typography from \"@mui/material/Typography\";\nimport { centerContainer } from \"./catalog.style\";\nimport { FilterBlock } from \"../filterblock/filter-block\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { OrdersContext } from \"../context-provider/orders-context-provider\";\nimport { FiltersContext } from \"../context-provider/filters-context-provider\";\nimport { priceFilters } from \"../filterblock/filter/filters-common\";\nimport Loader from \"../loading/loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst img = require(\"../../images/collection.jpg\");\nfunction Catalog() {\n  _s();\n  const [ordersData, isDataLoading] = useContext(OrdersContext);\n  const [filters] = useContext(FiltersContext);\n  const [displayData, setDisplayData] = useState([]);\n  useEffect(() => {\n    console.log(\"LOADING: \" + isDataLoading);\n    applyFilters();\n  }, [ordersData]);\n  const applyFilters = () => {\n    let priceFilter = priceFilters[filters.priceFilterId];\n    let filteredItems = ordersData.filter(order => (priceFilter.min < 0 || order.price >= priceFilter.min && order.price <= priceFilter.max) && (!filters.nameFilter || order.full_name.includes(filters.nameFilter)));\n    setDisplayData(filteredItems);\n  };\n  const discardFilters = () => {\n    console.log(\"discardFilters\" + ordersData);\n    setDisplayData(ordersData);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        ...centerContainer,\n        pt: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: \"5px\",\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        sx: {\n          mb: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(FilterBlock, {\n          applyFilters: applyFilters,\n          discardFilters: discardFilters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        mb: \"10px\",\n        children: \"Catalog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        children: isDataLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), displayData.length && /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {},\n        children: displayData.map((record, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          sx: {\n            ml: 15\n          },\n          children: /*#__PURE__*/_jsxDEV(OrderCard, {\n            id: record.id,\n            img: img,\n            full_name: record.full_name,\n            destination: record.destination,\n            car_brand: record.car_brand,\n            price: record.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Catalog, \"Ml6r9fXvrlU4Qo4z3Hfir0KiaYg=\");\n_c = Catalog;\nexport default Catalog;\nvar _c;\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["Box","Grid","OrderCard","Typography","centerContainer","FilterBlock","useContext","useState","useEffect","OrdersContext","FiltersContext","priceFilters","Loader","jsxDEV","_jsxDEV","Fragment","_Fragment","img","require","Catalog","_s","ordersData","isDataLoading","filters","displayData","setDisplayData","console","log","applyFilters","priceFilter","priceFilterId","filteredItems","filter","order","min","price","max","nameFilter","full_name","includes","discardFilters","children","sx","pt","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","container","direction","alignItems","justifyContent","length","spacing","map","record","index","item","ml","id","destination","car_brand","_c","$RefreshReg$"],"sources":["C:/Users/lesyk/OneDrive/Робочий стіл/NewLabs/web_lab_6-lab10/Lab10/src/components/catalog/catalog.js"],"sourcesContent":["import Box from \"@mui/system/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport OrderCard from \"../orders/order-card\";\nimport Typography from \"@mui/material/Typography\";\nimport { centerContainer } from \"./catalog.style\";\nimport { FilterBlock } from \"../filterblock/filter-block\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { OrdersContext } from \"../context-provider/orders-context-provider\";\nimport { FiltersContext } from \"../context-provider/filters-context-provider\";\nimport { priceFilters } from \"../filterblock/filter/filters-common\";\nimport Loader from \"../loading/loading\";\nconst img = require(\"../../images/collection.jpg\");\n\nfunction Catalog() {\n  const [ordersData, isDataLoading] = useContext(OrdersContext);\n  const [filters] = useContext(FiltersContext);\n  const [displayData, setDisplayData] = useState([]);\n\n  useEffect(() => {\n    console.log(\"LOADING: \" + isDataLoading);\n    applyFilters();\n  }, [ordersData]);\n\n  const applyFilters = () => {\n    let priceFilter = priceFilters[filters.priceFilterId];\n    let filteredItems = ordersData.filter(\n      (order) =>\n        (priceFilter.min < 0 ||\n          (order.price >= priceFilter.min && order.price <= priceFilter.max)) &&\n        (!filters.nameFilter || order.full_name.includes(filters.nameFilter))\n    );\n    setDisplayData(filteredItems);\n  };\n\n  const discardFilters = () => {\n    console.log(\"discardFilters\" + ordersData);\n    setDisplayData(ordersData);\n  };\n\n  return (\n    <>\n      <Box sx={{ ...centerContainer, pt: 1 }}>\n        <Typography variant=\"h5\" mb=\"5px\">\n          Filters\n        </Typography>\n        <Grid container sx={{ mb: 5 }}>\n          <FilterBlock\n            applyFilters={applyFilters}\n            discardFilters={discardFilters}\n          />\n        </Grid>\n        <Typography variant=\"h5\" mb=\"10px\">\n          Catalog\n        </Typography>\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n        >\n          {isDataLoading && <Loader />}\n         \n        </Grid>\n\n        {displayData.length && (\n          <Grid container spacing={2} sx={{}}>\n            {displayData.map((record, index) => (\n              <Grid item key={index} sx={{ ml: 15 }}>\n                <OrderCard\n                  id={record.id}\n                  img={img}\n                  full_name={record.full_name}\n                  destination={record.destination}\n                  car_brand={record.car_brand}\n                  price={record.price}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </Box>\n    </>\n  );\n}\n\nexport default Catalog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}